server:
  port: 8081

# 1. åŸºç¡€ Redis é…ç½® (Redisson ä¼šè‡ªåŠ¨è¯»å–)
spring:
  data:
    redis:
      host: 127.0.0.1
      port: 6379
      database: 0
      # password:

# j-multi-cache é…ç½®
j-multi-cache:

  # é»˜è®¤é…ç½®
  defaults:
    redis-ttl: 1h
    local-ttl: 1m
    empty-cache-ttl: 1s
    empty-cache-value: "ã€BINGOã€‘"

  configs:
    TEST_USER_CACHE:            # å¤šçº§ç¼“å­˜é…ç½®å
      namespace: "test:user"    # å‘½åç©ºé—´ï¼Œç¼“å­˜keyå‰ç¼€
      redis-ttl: 2m             # redisç¼“å­˜è¿‡æœŸæ—¶é—´
      local-ttl: 1m            # æœ¬åœ°ç¼“å­˜è¿‡æœŸæ—¶é—´
      local-max-size: 2000      # æœ¬åœ°ç¼“å­˜æœ€å¤§æ¡æ•°
      entity-class: "com.github.vevoly.jmulticache.test.entity.TestUser"   # ç¼“å­˜å®ä½“ç±»
      key-field: "#id"          # ç¼“å­˜keyå­—æ®µï¼Œæ”¯æŒSpELè¡¨è¾¾å¼

    TEST_USER_CACHE_BY_TENANT_ID:
      namespace: "test:user:tenantId_id"
      redis-ttl: 41s
      local-ttl: 33s            # 0 ä»£è¡¨ç¦ç”¨
      local-max-size: 2000
      entity-class: "com.github.vevoly.jmulticache.test.entity.TestUser"
      key-field: "#tenantId + ':' + #id"

    TEST_USER_CACHE_LIST:
      namespace: "test:user:list"
      redis-ttl: 2m
      local-ttl: 1m
      storage-type: list
      entity-class: "com.github.vevoly.jmulticache.test.entity.TestUser"
      key-field: "#tenantId"

    TEST_USER_ID_SET:
      namespace: "test:user:set:id"
      redis-ttl: 100m
      local-ttl: 98m
      storage-type: set
      entity-class: "java.lang.Long"

    TEST_USER_PAGE:
      namespace: "test:user:page"
      redis-ttl: 2m
      local-ttl: 2m
      storage-type: page
      entity-class: "com.github.vevoly.jmulticache.test.entity.TestUser"
      key-field: "#userId + ':' + #dateType + ':' + #status + ':' + #page + ':' + #size"

    TEST_USER_HASH:
      namespace: "test:user:hash"
      redis-ttl: 30s
      local-ttl: 20s
      storage-type: hash
      entity-class: "com.github.vevoly.jmulticache.test.entity.TestUser"

    TEST_GROUP:
      namespace: "test:group:id"
      redis-ttl: 1m
      local-ttl: 22s
      storage-type: string
      entity-class: "com.github.vevoly.jmulticache.test.entity.TestGroup"

    TEST_GROUP_LIST:
      namespace: "test:group:list:tenantId"
      redis-ttl: 10h
      local-ttl: 2m
      storage-type: list
      entity-class: "com.github.vevoly.jmulticache.test.entity.TestGroup"
      key-field: "#tenantId"

    TEST_GAME_RANK:
      namespace: "test:game:rank"
      storage-type: zset
      redis-ttl: 1h
      local-ttl: 5s
      # å®ä½“ç±»å¿…é¡»å®ç° JMultiCacheScorable
      entity-class: "com.github.vevoly.jmulticache.test.entity.dto.UserRank"
      key-field: "#region"

    TEST_GZIP_CACHE:
      namespace: "test:gzip:article"
      # ğŸ”¥ è‡ªå®šä¹‰çš„ç±»å‹
      storage-type: gzip
      redis-ttl: 1h
      local-ttl: 10s
      entity-class: "com.github.vevoly.jmulticache.test.entity.LongArticle"
      key-field: "#id"




